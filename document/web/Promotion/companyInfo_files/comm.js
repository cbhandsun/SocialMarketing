String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};var sys={$:function(A){return document.getElementById(A)},onload:function(B){var A=window.onload;window.onload=function(){if(typeof (A)=="function"){A()}if(typeof (B)=="function"){B()}}},getQueryValue:function(C,B){var A="";if(B){A="&"+B}else{A=window.location.search.replace(/(^\?+)|(#\S*$)/g,"")}A=A.match(new RegExp("(^|&)"+C+"=([^&]*)(&|$)"));return !A?"":decodeURIComponent(A[2])}};function getCookie(A){return pt.cookie.get(A)}function setCookie(A,B){pt.cookie.set(A.value)}var pt={uin:0,ckNum:{},action:[0,0],submitN:{},err_m:null,isHttps:false,isIpad:false,mibao_css:"",needAt:"",t_appid:46000101,seller_id:703010802,needCodeTip:false,regmaster:0,qrlogin_step:0,qrlogin_clock:0,qrlogin_timeout:0,qrlogin_timeout_time:70000,isQrLogin:false,qr_uin:"",qr_nick:"",dftImg:"http://imgcache.qq.com/ptlogin/face/1.png",js_type:0,is_weibo_appid:function(A){if(A==46000101||A==607000101){return true}return false},is_mibao:function(A){return/^http(s)?:\/\/ui.ptlogin2.(\S)+\/cgi-bin\/mibao_vry/.test(A)},chkUin:function(A){A=A.trim();if(A.length==0){return false}if(window.location.hostname.match(/paipai.com$/)){if(A.length<64&&(new RegExp(/^[A-Za-z0-9]+@{1}[A-Za-z0-9]+$/).test(A))){return true}}if(g_appid==pt.seller_id&&A.length<64&&(new RegExp(/^[A-Za-z0-9]+@{1}[0-9]+$/).test(A))){return true}pt.needAt="";var B=pt.chkAccount;if(pt.is_weibo_appid(g_appid)){if(B.isQQ(A)||B.isMail(A)){return true}else{if(B.isNick(A)||B.isName(A)){pt.needAt="@"+encodeURIComponent(A);return true}else{if(B.isPhone(A)){pt.needAt="@"+A.replace(/^(86|886)/,"");return true}else{if(B.isSeaPhone(A)){pt.needAt="@00"+A.replace(/^(00)/,"");if(/^(@0088609)/.test(pt.needAt)){pt.needAt=pt.needAt.replace(/^(@0088609)/,"@008869")}return true}}}}pt.needAt=""}else{if(B.isQQ(A)||B.isMail(A)){return true}if(B.isPhone(A)){pt.needAt="@"+A.replace(/^(86|886)/,"");return true}if(B.isNick(A)){sys.$("u").value=A+"@qq.com";return true}}if(B.isForeignPhone(A)){pt.needAt="@"+A;return true}return false},chkAccount:{isQQ:function(A){return/^[1-9]{1}\d{4,9}$/.test(A)},isNick:function(A){return/^[a-zA-Z]{1}([a-zA-Z0-9]|[-_]){0,19}$/.test(A)},isName:function(A){if(A=="<请输入帐号>"){return false}return/[\u4E00-\u9FA5]/.test(A)?(A.length>8?false:true):false},isPhone:function(A){return/^(?:86|886|)1\d{10}\s*$/.test(A)},isDXPhone:function(A){return/^(?:86|886|)1(?:33|53|80|81|89)\d{8}$/.test(A)},isSeaPhone:function(A){return/^(00)?(?:852|853|886(0)?\d{1})\d{8}$/.test(A)},isMail:function(A){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(A)},isForeignPhone:function(A){return/^00\d{7,}/.test(A)}},cookie:{get:function(B){var A=document.cookie.match(new RegExp("(^| )"+B+"=([^;]*)(;|$)"));return A?A[2]:""},set:function(C,E){var A=arguments;var H=arguments.length;var B=(2<H)?A[2].toGMTString():"";var G=(3<H)?A[3]:"";var D=(4<H)?A[4]:"";var F=(5<H)?A[5]:false;document.cookie=C+"="+escape(E)+";expires ="+B+";path = "+G+";domain ="+D+((F==true)?";secure":" ")}},html:{encode:function(B){var A="";if(B.length==0){return""}A=B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g,"&nbsp; ").replace(/'/g,"&apos;").replace(/"/g,"&quot;");return A}},init:function(){if(pt.t_appid==g_appid){if(sys.$("u")){sys.$("u").setAttribute("style","")}sys.$("u").style.cssText=""}pt.isHttps=(/^https/g.test(window.location));sys.onload(function(){pt.err_m=sys.$("err_m");if(g_appid!=1003903){document.body.onclick=function(R){R=R|window.event;pt.action[0]++}}document.body.onkeydown=function(R){R=R|window.event;pt.action[1]++};if(Math.random()<0.1&&!pt.isHttps){pt.loadScript("http://mat1.gtimg.com/www/js/common.js",function(){if(typeof checkNonTxDomain=="function"){checkNonTxDomain(1,5)}})}window.setTimeout(function(){ptui_reportAttr2("258157&union=256038",0.05)},1000);try{var J=sys.getQueryValue("s_url");var F=sys.getQueryValue("style");var C=sys.getQueryValue("appid");var E=/paipai.com$/.test(window.location.hostname);var N=sys.getQueryValue("regmaster");var I=sys.getQueryValue("enable_qlogin");if(F==5){var G=/\?/g.test(J)?"&":"?";G+="login2qq=1&webqq_type=10";J+=G}var L=sys.getQueryValue("hide_close_icon")==1||sys.getQueryValue("hide_title_bar")==1;var D=document.createElement("h4");D.innerHTML='<input type="button" class="btn_close" id="close" name="close" onclick="javascript:onPageClose();" title="关闭" /><u id="label_login_title">用户登录</u>';if(window.g_href&&location.href.indexOf(g_href)==-1&&/^ui.ptlogin2./.test(location.hostname)){if(location.protocol=="http:"){if(window.g_jumpname=="aqjump"&&F!=5&&N!=3&&N!=2){if(!L&&!sys.$("close")){sys.$("login").insertBefore(D,sys.$("normal_login"));sys.$("login").style.border="1px"}var Q=document.createElement("div");Q.style.textAlign="center";Q.innerHTML='<div style="position:relative;">							<br/>							<p style="line-height:20px;text-align:left;width:220px;margin:0 auto;">您当前的网络存在链路层劫持，为了确保您的帐号安全，请使用安全登录。</p></div>							<input id="safe_login" value="安全登录"" type="button" class="btn" style="text-align:center;"/>							</div>							<div style="margin-top:10px;margin-left:10px; height:20px;">							<span style="float:left;height:15px;width:14px; background: url(https://ui.ptlogin2.qq.com/style/14/images/help.png) no-repeat scroll right center transparent;"></span>							<a style="float:left; margin-left:5px;" href="http://kf.qq.com/info/80861.html" target="_blank" >什么是链路层劫持</a>							</div>';sys.$("loginform").style.display="none";sys.$("web_login").appendChild(Q);ptui_notifySize("login");ptui_reportAttr2(245663);var P=new Image();var O=encodeURIComponent(window.g_href+"|_|"+location.href+"|_|"+window.g_jumpname+"|_|mid=245663");P.src="http://badjs.qq.com/cgi-bin/js_report?bid=110&msg="+O+"&v="+Math.random()}else{var P=new Image();var O=encodeURIComponent(window.g_href+"|_|"+location.href+"|_|"+window.g_jumpname+"|_|mid=245580");P.src="http://badjs.qq.com/cgi-bin/js_report?bid=110&mid=245580&msg="+O+"&v="+Math.random()}}else{if(window.g_jumpname=="aqjump"){ptui_reportAttr2(245582)}else{ptui_reportAttr2(245581)}}g_jumpname=sys.getQueryValue("jumpname");g_target=sys.getQueryValue("target");switch(g_target){case"self":document.forms[0].ptredirect.value=0;break;case"top":document.forms[0].ptredirect.value=1;break;case"parent":document.forms[0].ptredirect.value=2;break;default:document.forms[0].ptredirect.value=1}g_qtarget=sys.getQueryValue("qtarget");switch(g_qtarget){case"self":g_qtarget=0;break;case"top":g_qtarget=1;break;case"parent":g_qtarget=2;break;default:g_qtarget=1}var M=1;if(g_jumpname!=""){if(g_qtarget!=-1){M=g_qtarget}}else{switch(g_target){case"self":M=0;break;case"top":M=1;break;case"parent":M=2;break;default:M=1}}if(sys.$("safe_login")){sys.$("safe_login").onclick=function(){if(M!=1){try{J=top.location.href}catch(S){}}J=encodeURIComponent(J);var R="https://ui.ptlogin2.qq.com/cgi-bin/login";window.open(R+"?style=14&pt_safe=1&appid="+C+"&s_url="+J+"&regmaster="+N+"&enable_qlogin="+I,"_top");ptui_reportAttr2(247563)};if(sys.$("switch").style.display=="none"){ptui_reportAttr2(248671)}else{sys.$("switch").onclick=function(){if(!pt.hasShowSafeTips){pt.hasShowSafeTips=true;ptui_reportAttr2(248671)}}}}document.forms[0].u1.value=J;if(N==3||N==2){pt.regmaster=N}var H=(g_jumpname=="jump"||g_jumpname=="")?encodeURIComponent("u1="+encodeURIComponent(document.forms[0].u1.value)):"";sys.$("xui")&&(sys.$("xui").src=sys.$("xui").src+"&jumpname="+g_jumpname+"&param="+H+"&qtarget="+M+"&regmaster"+N)}}catch(K){}});pt.mibao_css=window.g_mibao_css;var A=navigator.userAgent.toLowerCase();pt.isIpad=/ipad/i.test(A);pt.needCodeTip=window.needCodeTip?needCodeTip:false;var B=document.loginform.regmaster?document.loginform.regmaster.value:"";if((B==2||B==3)&&!pt.isHttps){pt.regmaster=B}pt.dftImg=pt.ishttps?"https://ui.ptlogin2.qq.com/face/1.png":"http://imgcache.qq.com/ptlogin/face/1.png"},show_err:function(B){if(pt.isQrLogin){return }var A=pt.html.encode(sys.$("u").value);if(pt.err_m&&(typeof ptui_notifySize=="function")){B+='<a href="http://support.qq.com/write.shtml?guest=1&fid=713&SSTAG=10011-'+A+'" target="_blank">'+str_yjfk+"</a>";pt.err_m.innerHTML=B;pt.err_m.style.display="block";ptui_notifySize("login");return }else{alert(B)}},hide_err:function(){if(pt.err_m&&(typeof ptui_notifySize=="function")){pt.err_m.innerHTML="";pt.err_m.style.display="none";ptui_notifySize("login");return }},setHeader:function(A){for(var B in A){if(B!=""){if(sys.$("qr_head")){sys.$("qr_head").src=A[B]}}}},imgErr:function(A){A.onerror=null;if(A.src!=pt.dftImg){A.src=pt.dftImg}return false},setFeeds:function(A){for(var B in A){if(B!=""){if(sys.$("qr_feeds")){pt.getShortWord(sys.$("qr_feeds"),A[B],120)}}}},get_qrlogin_pic:function(){var B="ptqrshow";var A=(pt.isHttps?"https://ssl.":"http://")+"ptlogin2."+g_domain+"/"+B+"?";if(pt.regmaster==2){A="http://ptlogin2.function.qq.com/"+B+"?regmaster=2&"}else{if(pt.regmaster==3){A="http://ptlogin2.crm2.qq.com/"+B+"?regmaster=3&"}}A+="appid="+g_appid+"&e=2&l=M&s=3&d=72&v=4&t="+Math.random();return A},animate:function(B,C,H,R,G){if(!B){return }if(!B.effect){B.effect={}}if(typeof (B.effect.animate)=="undefined"){B.effect.animate=0}for(var M in C){C[M]=parseInt(C[M])||0}window.clearInterval(B.effect.animate);var H=H||10,R=R||20,I=function(V){var U={left:V.offsetLeft,top:V.offsetTop};return U},T=I(B),F={width:B.clientWidth,height:B.clientHeight,left:T.left,top:T.top},D=[],Q=window.navigator.userAgent.toLowerCase();if(!(Q.indexOf("msie")!=-1&&document.compatMode=="BackCompat")){var K=document.defaultView?document.defaultView.getComputedStyle(B,null):B.currentStyle;var E=C.width||C.width==0?parseInt(C.width):null,S=C.height||C.height==0?parseInt(C.height):null;if(typeof (E)=="number"){D.push("width");C.width=E-K.paddingLeft.replace(/\D/g,"")-K.paddingRight.replace(/\D/g,"")}if(typeof (S)=="number"){D.push("height");C.height=S-K.paddingTop.replace(/\D/g,"")-K.paddingBottom.replace(/\D/g,"")}if(R<15){H=Math.floor((H*15)/R);R=15}}var P=C.left||C.left==0?parseInt(C.left):null,L=C.top||C.top==0?parseInt(C.top):null;if(typeof (P)=="number"){D.push("left");B.style.position="absolute"}if(typeof (L)=="number"){D.push("top");B.style.position="absolute"}var J=[],O=D.length;for(var M=0;M<O;M++){J[D[M]]=F[D[M]]<C[D[M]]?1:-1}var N=B.style;var A=function(){var U=true;for(var V=0;V<O;V++){F[D[V]]=F[D[V]]+J[D[V]]*Math.abs(C[D[V]]-Math.floor(F[D[V]])*H/100);if((Math.round(F[D[V]])-C[D[V]])*J[D[V]]>=0){U=U&&true;N[D[V]]=C[D[V]]+"px"}else{U=U&&false;N[D[V]]=F[D[V]]+"px"}}if(U){window.clearInterval(B.effect.animate);if(typeof (G)=="function"){G(B)}}};B.effect.animate=window.setInterval(A,R)},go_qrlogin_step:function(A){switch(A){case 1:sys.$("qrlogin_step1").style.display="block";sys.$("qrlogin_step2").style.display="none";sys.$("qrlogin_step3").style.display="none";break;case 2:sys.$("qrlogin_step1").style.display="none";sys.$("qrlogin_step2").style.display="block";sys.$("qrlogin_step3").style.display="none";break;case 3:sys.$("qr_nick").innerHTML=pt.html.encode(pt.qr_nick);sys.$("qr_uin").innerHTML=pt.qr_uin;sys.$("qrlogin_step3").style.display="block";sys.$("qrlogin_step2").style.display="none";sys.$("qrlogin_step1").style.display="none";var C=(sys.$("qrlogin_step3").offsetWidth-sys.$("qr_card").offsetWidth)/2;var B=(sys.$("qrlogin_step3").offsetWidth-270)/2;pt.animate(sys.$("qr_card"),{left:C,top:20},20,20,function(){pt.animate(sys.$("qr_card"),{width:270,height:120,left:B,top:0})});break;default:break}},switch_qrlogin:function(A){if(A){ptui_reportAttr2(228433);sys.$("normal_login").style.display="none";sys.$("qrlogin").style.display="block";pt.go_qrlogin_step(1);sys.$("qrlogin_img").src=pt.get_qrlogin_pic();pt.qrlogin_clock=window.setInterval("qrlogin_submit();",2000);window.clearTimeout(pt.qrlogin_timeout);pt.qrlogin_timeout=window.setTimeout(function(){pt.switch_qrlogin(false)},pt.qrlogin_timeout_time)}else{sys.$("qrlogin").style.display="none";sys.$("normal_login").style.display="block";window.clearInterval(pt.qrlogin_clock);window.clearTimeout(pt.qrlogin_timeout)}pt.isQrLogin=A;ptui_notifySize("login")},getShortWord:function(D,G,F){F=D.getAttribute("w")||F;G=G?G:"";var B="...";D.innerHTML=pt.html.encode(G);if(D.clientWidth<=F){}else{var A=Math.min(G.length,20);for(var C=A;C>0;C--){var E=G.substring(0,C);D.innerHTML=pt.html.encode(E+B);if(D.clientWidth<=F){break}}}D.style.width=F+"px"},bind_account:function(){window.open("http://id.qq.com/index.html#account");ptui_reportAttr2("234964")},loadScript:function(B,C){var A=document.createElement("script");A.charset="UTF-8";A.onload=A.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){if(typeof C=="function"){C(A)}A.onload=A.onreadystatechange=null;if(A.parentNode){A.parentNode.removeChild(A)}}};A.src=B;document.getElementsByTagName("head")[0].appendChild(A)},clearScript:function(A){window.setTimeout(function(){A.parentNode.removeChild(A)},5000)},winName:{set:function(C,A){var B=window.name||"";if(B.match(new RegExp(";"+C+"=([^;]*)(;|$)"))){window.name=B.replace(new RegExp(";"+C+"=([^;]*)"),";"+C+"="+A)}else{window.name=B+";"+C+"="+A}},get:function(C){var B=window.name||"";var A=B.match(new RegExp(";"+C+"=([^;]*)(;|$)"));return A?A[1]:""},clear:function(B){var A=window.name||"";window.name=A.replace(new RegExp(";"+B+"=([^;]*)"),"")}}};pt.init();var checkClock=0;var lastUin=1;var t_appid=46000101;var g_changeNum=0;var changeimg=false;var defaultuin="";var login_param=g_href.substring(g_href.indexOf("?")+1);function ptui_onEnableLLogin(B){var A=B.low_login_enable;var C=B.low_login_hour;if(A!=null&&C!=null){C.disabled=!A.checked}}function ptui_setDefUin(C,B){if(!B){var B=unescape(pt.cookie.get("ptui_loginuin"));var A=pt.chkAccount;if(g_appid!=t_appid&&(A.isNick(B)||A.isName(B))){B=pt.cookie.get("pt2gguin").replace(/^o/,"")-0;B=B==0?"":B}defaultuin=B}if(B){C.u.value=B}}var g_ptredirect=-1;var g_xmlhttp;var g_loadcheck=true;var g_submitting=false;function ptui_needVC(B,C){if(pt.chkAccount.isQQ(B)){document.cookie="chkuin="+B+";domain=ptlogin2."+g_domain+";path=/"}B=pt.needAt?pt.needAt:B;if(pt.ckNum[B]){if(pt.ckNum[B]==2){pt.show_err(str_net_error);return }pt.ckNum[B]++}else{pt.ckNum={};pt.ckNum[B]=1}var A=(pt.isHttps?"https://ssl.":"http://check.")+"ptlogin2."+g_domain+"/check?";if(pt.regmaster==2){A="http://check.ptlogin2.function.qq.com/check?regmaster=2&"}else{if(pt.regmaster==3){A="http://check.ptlogin2.crm2.qq.com/check?regmaster=3&"}}A+="uin="+B+"&appid="+C+"&js_ver="+window.g_pt_version+"&js_type="+pt.js_type+"&login_sig="+window.g_login_sig+"&u1="+encodeURIComponent(document.forms[0].u1.value)+"&r="+Math.random();pt.loadScript(A);g_loadcheck=true;return }function ptui_checkVC(B,E,C){clearTimeout(checkClock);if(!C){g_uin="0";check();return }pt.ckNum[pt.needAt?pt.needAt:sys.$("u").value.trim()]=0;if(C=="\x00\x00\x00\x00\x00\x00\x27\x10"){g_uin="0";pt.show_err(str_inv_uin);return }pt.uin=C;if(!pt.submitN[C]){pt.submitN[C]=1}var G=new Date();g_time.time7=G;var F={"12":g_time.time7-g_time.time6};if(!curXui){ptui_speedReport(F)}g_loadcheck=false;if(g_submitting){return }if(B=="0"){$("verifycode").value=E;loadVC(false)}else{if(B=="1"){$("verifycode").value=pt.needCodeTip?str_codetip:"";loadVC(true)}else{}}var D=pt.cookie.get("chkuin");var A=pt.cookie.get("confirmuin");if(D==A&&D){ptui_reportAttr(195390)}else{if(D==A&&!D){ptui_reportAttr(195393)}else{if(D&&!A){ptui_reportAttr(195389)}else{if(!D&&A){ptui_reportAttr(195392)}else{if(D&&A&&D!=A){ptui_reportAttr(195391)}}}}}}function ptui_changeImg(E,D,H){changeimg=true;var G=pt.needAt?pt.needAt:g_uin;var B=(pt.isHttps?"https://ssl.":"http://")+"captcha."+E+"/getimage?&uin="+G+"&aid="+D+"&"+Math.random();var A=$("imgVerify");try{if(A!=null){A.src=B;var C=$("verifycode");if(C!=null&&C.disabled==false&&H){C.focus();C.select()}}}catch(F){}}function ptui_initFocus(B){if(pt.isIpad){return }try{var A=B.u;var D=B.p;var E=B.verifycode;if(A.value==""||str_uintip==A.value){A.focus();return }if(D.value==""){D.focus();return }if(E.value==""){E.focus()}}catch(C){}}function getSubmitUrl(K){var E=true;var C=document.forms[0];var A=(pt.isHttps?"https://ssl.":"http://")+"ptlogin2."+g_domain+"/"+K+"?";var B=document.getElementById("login2qq");if(pt.regmaster==2){A="http://ptlogin2.function.qq.com/"+K+"?regmaster=2&"}else{if(pt.regmaster==3){A="http://ptlogin2.crm2.qq.com/"+K+"?regmaster=3&"}}for(var J=0;J<C.length;J++){if(K=="ptqrlogin"&&(C[J].name=="u"||C[J].name=="p"||C[J].name=="verifycode"||C[J].name=="h")){continue}if(C[J].name=="ipFlag"&&!C[J].checked){A+=C[J].name+"=-1&";continue}if(C[J].name=="fp"||C[J].type=="submit"){continue}if(C[J].name=="ptredirect"){g_ptredirect=C[J].value}if(C[J].name=="low_login_enable"&&(!C[J].checked)){E=false;continue}if(C[J].name=="low_login_hour"&&(!E)){continue}if(C[J].name=="webqq_type"&&!B&&(!C[J].checked)){continue}A+=C[J].name;A+="=";if(C[J].name=="u"&&pt.needAt){A+=pt.needAt+"&";continue}if(C[J].name=="p"){var M=C.p.value;var I=hexchar2bin(md5(M));var H=md5(I+pt.uin);var G=md5(H+C.verifycode.value.toUpperCase());A+=G}else{if(C[J].name=="u1"||C[J].name=="ep"){var D=C[J].value;var L="";if(g_appid=="1003903"&&B){L=/\?/g.test(D)?"&":"?";var F=document.getElementById("webqq_type").value;L+="login2qq="+B.value+"&webqq_type="+F}A+=encodeURIComponent(D+L)}else{A+=C[J].value}}A+="&"}A+="fp=loginerroralert&action="+pt.action.join("-")+"-"+(new Date()-g_begTime)+"&mibao_css="+pt.mibao_css+"&t="+pt.submitN[pt.uin]+"&g=1";A+="&js_type="+pt.js_type+"&js_ver="+window.g_pt_version+"&login_sig="+window.g_login_sig;return A}function ajax_Submit(){var A=getSubmitUrl("login");pt.winName.set("login_param",encodeURIComponent(login_param));pt.loadScript(A);return }function qrlogin_submit(){var A=getSubmitUrl("ptqrlogin");pt.winName.set("login_param",encodeURIComponent(login_param));pt.loadScript(A);return }function ptuiCB(J,K,B,H,C,A){function F(){var M=pt.cookie.get("uin");var L=pt.cookie.get("skey");if(M==""||L==""){ptui_reportAttr2("240601")}}function D(){if(H!="0"){F()}pt.hide_err();switch(H){case"0":window.location.href=B;break;case"1":top.location.href=B;break;case"2":parent.location.href=B;break;default:top.location.href=B}}$("p").blur();g_time.time13=new Date();var E={"15":g_time.time13-g_time.time12};ptui_speedReport(E);g_submitting=false;if(J==65){pt.switch_qrlogin(false);return }if(J==66){return }if(J==67){pt.go_qrlogin_step(2);window.clearInterval(pt.qrlogin_clock);pt.qrlogin_clock=window.setInterval("qrlogin_submit();",1000);return }if(J==0){var G=0;if(pt.isQrLogin&&!pt.is_mibao(B)){window.clearInterval(pt.qrlogin_clock);pt.qr_uin=pt.cookie.get("uin");pt.qr_uin=parseInt(pt.qr_uin.substring(1,pt.qr_uin.length),10);pt.qr_nick=A;if(!pt.isHttps){pt.loadScript("http://ptlogin2."+g_domain+"/getface?appid="+g_appid+"&imgtype=3&encrytype=0&devtype=0&keytpye=0&uin="+pt.qr_uin+"&js=1&r="+Math.random())}else{sys.$("qr_head").src=pt.dftImg}pt.loadScript((pt.isHttps?"https://ssl.":"http://")+"ptlogin2."+g_domain+"/getlongnick?appid="+g_appid+"&js=1&r="+Math.random());pt.go_qrlogin_step(3);window.setTimeout(function(){D()},4000)}else{D()}}else{if(pt.submitN[pt.uin]){pt.submitN[pt.uin]++}if(K==0){if(C&&C!=""){pt.show_err(C)}else{pt.show_err(str_input_error)}}else{pt.show_err(C);$("p").value="";$("p").focus();$("p").select()}if(isLoadVC){ptui_changeImg(g_domain,g_appid,true);$("verifycode").value=pt.needCodeTip?str_codetip:"";loadVC(true);$("verifycode").focus();$("verifycode").select()}else{if(K==0){g_uin=0}}if(J==3||J==4){if(navigator.userAgent.toLowerCase().indexOf("webkit")>-1){$("u").focus()}if(J==3){$("p").value=""}$("p").focus();$("p").select();if(J==4){try{$("verifycode").focus();$("verifycode").select()}catch(I){}}if(K!=0&&K!=102){$("verifycode").value=pt.needCodeTip?str_codetip:"";loadVC(true);g_submitting=true}}}}function browser_version(){var A=navigator.userAgent.toLowerCase();return A.match(/msie ([\d.]+)/)?1:A.match(/firefox\/([\d.]+)/)?3:A.match(/chrome\/([\d.]+)/)?5:A.match(/opera.([\d.]+)/)?9:A.match(/version\/([\d.]+).*safari/)?7:1}function ptui_reportSpeed(D,C){if(pt.isHttps||(window.flag2&&Math.random()>0.5)||(!window.flag2&&Math.random()>0.05)){return }var A=browser_version();url="http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=6000&flag2="+(window.flag2?window.flag2:1)+"&flag3="+A;for(var B=0;B<g_speedArray.length;B++){url+="&"+g_speedArray[B][0]+"="+(g_speedArray[B][1]-D)}if(C!=0){url+="&4="+(D-C)}imgSendTimePoint=new Image();imgSendTimePoint.src=url+"&24="+g_appid}function ptui_reportAttr(A){if(Math.random()>0.05){return }url=(pt.isHttps?"https":"http")+"://ui.ptlogin2."+g_domain+"/cgi-bin/report?id="+A+"&t="+Math.random();imgAttr=new Image();imgAttr.src=url;imgAttr=null}function ptui_reportAttr2(B,A){if(Math.random()>(A||1)){return }url=(pt.isHttps?"https":"http")+"://ui.ptlogin2."+g_domain+"/cgi-bin/report?id="+B+"&t="+Math.random();imgAttr=new Image();imgAttr.src=url;imgAttr=null}function ptui_reportNum(B){if(Math.random()>0.05){return }url=(pt.isHttps?"https":"http")+"://ui.ptlogin2."+g_domain+"/cgi-bin/report?id=1000&n="+B;var A=new Image();A.src=url}function imgLoadReport(){if(changeimg){return }g_time.time8=new Date();var A={"11":g_time.time8-g_time.time7};if(!curXui){ptui_speedReport(A)}}function webLoginReport(){var A={};if(g_time.time0&&g_time.time0>0&&g_time.time1&&g_time.time1>0&&g_time.time2&&g_time.time2>0&&g_time.time3&&g_time.time3>0){A["18"]=g_time.time1-g_time.time0;A["19"]=g_time.time2-g_time.time0;A["20"]=g_time.time4-g_time.time0;A["21"]=g_time.time5-g_time.time0;A["7"]=g_time.time4-g_time.time3;A["26"]=g_time.time5-g_time.time3;ptui_speedReport(A)}}function ptui_speedReport(E){if(pt.isHttps||(window.flag2&&Math.random()>0.5)||(!window.flag2&&Math.random()>0.1)){return }var B="http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=6000&flag2="+(window.flag2?window.flag2:1)+"&flag3="+browser_version();var C=0;for(var D in E){if(E[D]>300000||E[D]<0){continue}B+="&"+D+"="+E[D];C++}if(C==0){return }var A=new Image();A.src=B+"&24="+g_appid}function ptui_notifyClose(){try{window.clearInterval(pt.qrlogin_clock);if(parent.ptlogin2_onClose){parent.ptlogin2_onClose()}else{if(top==this){window.close()}}}catch(A){window.close()}}function ptui_setUinColor(D,B,A){var C=$(D);if(str_uintip==C.value){C.style.color=A}else{C.style.color=B}}function ptui_checkPwdOnInput(){if($("p").value.length>=16){return false}return true}function ptui_onLogin(A){try{if(parent.ptlogin2_onLogin){if(!parent.ptlogin2_onLogin()){return false}}if(parent.ptlogin2_onLoginEx){var D=A.u.value;var B=A.verifycode.value;if(str_uintip==D){D=""}if(!parent.ptlogin2_onLoginEx(D,B)){return false}}}catch(C){}return ptui_checkValidate(A)}function ptui_onLoginEx(B,C){g_time.time12=new Date();if(ptui_onLogin(B)){var A=new Date();A.setHours(A.getHours()+24*30);pt.cookie.set("ptui_loginuin",B.u.value,A,"/",C)}return false}function ptui_onReset(A){try{if(parent.ptlogin2_onReset){if(!parent.ptlogin2_onReset()){return false}}}catch(B){}return true}function ptui_checkValidate(B){var A=B.u;var D=B.p;var E=B.verifycode;if(A.value==""||str_uintip==A.value){pt.show_err(str_no_uin);A.focus();return false}A.value=A.value.trim();if(!pt.chkUin(A.value)){pt.show_err(str_inv_uin);A.focus();A.select();return false}if(D.value==""){pt.show_err(str_no_pwd);D.focus();return false}if(E.value==""){if(!isLoadVC){loadVC(true);g_submitting=true;return false}pt.show_err(str_no_vcode);try{E.focus()}catch(C){}if(!g_loadcheck){ptui_reportAttr(78028)}else{ptui_reportAttr(78029)}return false}if(E.value.length<4){pt.show_err(str_inv_vcode);E.focus();E.select();return false}if(isLoadVC&&!(/^[a-zA-Z0-9]+$/.test(E.value))){pt.show_err(str_correct_vcode);E.focus();E.select();return false}D.setAttribute("maxlength","32");ajax_Submit();ptui_reportNum(g_changeNum);g_changeNum=0;return true}var hexcase=1;var b64pad="";var chrsz=8;var mode=32;function md5(A){return hex_md5(A)}function hex_md5(A){return binl2hex(core_md5(str2binl(A),A.length*chrsz))}function str_md5(A){return binl2str(core_md5(str2binl(A),A.length*chrsz))}function hex_hmac_md5(A,B){return binl2hex(core_hmac_md5(A,B))}function b64_hmac_md5(A,B){return binl2b64(core_hmac_md5(A,B))}function str_hmac_md5(A,B){return binl2str(core_hmac_md5(A,B))}function core_md5(K,F){K[F>>5]|=128<<((F)%32);K[(((F+64)>>>9)<<4)+14]=F;var J=1732584193;var I=-271733879;var H=-1732584194;var G=271733878;for(var C=0;C<K.length;C+=16){var E=J;var D=I;var B=H;var A=G;J=md5_ff(J,I,H,G,K[C+0],7,-680876936);G=md5_ff(G,J,I,H,K[C+1],12,-389564586);H=md5_ff(H,G,J,I,K[C+2],17,606105819);I=md5_ff(I,H,G,J,K[C+3],22,-1044525330);J=md5_ff(J,I,H,G,K[C+4],7,-176418897);G=md5_ff(G,J,I,H,K[C+5],12,1200080426);H=md5_ff(H,G,J,I,K[C+6],17,-1473231341);I=md5_ff(I,H,G,J,K[C+7],22,-45705983);J=md5_ff(J,I,H,G,K[C+8],7,1770035416);G=md5_ff(G,J,I,H,K[C+9],12,-1958414417);H=md5_ff(H,G,J,I,K[C+10],17,-42063);I=md5_ff(I,H,G,J,K[C+11],22,-1990404162);J=md5_ff(J,I,H,G,K[C+12],7,1804603682);G=md5_ff(G,J,I,H,K[C+13],12,-40341101);H=md5_ff(H,G,J,I,K[C+14],17,-1502002290);I=md5_ff(I,H,G,J,K[C+15],22,1236535329);J=md5_gg(J,I,H,G,K[C+1],5,-165796510);G=md5_gg(G,J,I,H,K[C+6],9,-1069501632);H=md5_gg(H,G,J,I,K[C+11],14,643717713);I=md5_gg(I,H,G,J,K[C+0],20,-373897302);J=md5_gg(J,I,H,G,K[C+5],5,-701558691);G=md5_gg(G,J,I,H,K[C+10],9,38016083);H=md5_gg(H,G,J,I,K[C+15],14,-660478335);I=md5_gg(I,H,G,J,K[C+4],20,-405537848);J=md5_gg(J,I,H,G,K[C+9],5,568446438);G=md5_gg(G,J,I,H,K[C+14],9,-1019803690);H=md5_gg(H,G,J,I,K[C+3],14,-187363961);I=md5_gg(I,H,G,J,K[C+8],20,1163531501);J=md5_gg(J,I,H,G,K[C+13],5,-1444681467);G=md5_gg(G,J,I,H,K[C+2],9,-51403784);H=md5_gg(H,G,J,I,K[C+7],14,1735328473);I=md5_gg(I,H,G,J,K[C+12],20,-1926607734);J=md5_hh(J,I,H,G,K[C+5],4,-378558);G=md5_hh(G,J,I,H,K[C+8],11,-2022574463);H=md5_hh(H,G,J,I,K[C+11],16,1839030562);I=md5_hh(I,H,G,J,K[C+14],23,-35309556);J=md5_hh(J,I,H,G,K[C+1],4,-1530992060);G=md5_hh(G,J,I,H,K[C+4],11,1272893353);H=md5_hh(H,G,J,I,K[C+7],16,-155497632);I=md5_hh(I,H,G,J,K[C+10],23,-1094730640);J=md5_hh(J,I,H,G,K[C+13],4,681279174);G=md5_hh(G,J,I,H,K[C+0],11,-358537222);H=md5_hh(H,G,J,I,K[C+3],16,-722521979);I=md5_hh(I,H,G,J,K[C+6],23,76029189);J=md5_hh(J,I,H,G,K[C+9],4,-640364487);G=md5_hh(G,J,I,H,K[C+12],11,-421815835);H=md5_hh(H,G,J,I,K[C+15],16,530742520);I=md5_hh(I,H,G,J,K[C+2],23,-995338651);J=md5_ii(J,I,H,G,K[C+0],6,-198630844);G=md5_ii(G,J,I,H,K[C+7],10,1126891415);H=md5_ii(H,G,J,I,K[C+14],15,-1416354905);I=md5_ii(I,H,G,J,K[C+5],21,-57434055);J=md5_ii(J,I,H,G,K[C+12],6,1700485571);G=md5_ii(G,J,I,H,K[C+3],10,-1894986606);H=md5_ii(H,G,J,I,K[C+10],15,-1051523);I=md5_ii(I,H,G,J,K[C+1],21,-2054922799);J=md5_ii(J,I,H,G,K[C+8],6,1873313359);G=md5_ii(G,J,I,H,K[C+15],10,-30611744);H=md5_ii(H,G,J,I,K[C+6],15,-1560198380);I=md5_ii(I,H,G,J,K[C+13],21,1309151649);J=md5_ii(J,I,H,G,K[C+4],6,-145523070);G=md5_ii(G,J,I,H,K[C+11],10,-1120210379);H=md5_ii(H,G,J,I,K[C+2],15,718787259);I=md5_ii(I,H,G,J,K[C+9],21,-343485551);J=safe_add(J,E);I=safe_add(I,D);H=safe_add(H,B);G=safe_add(G,A)}if(mode==16){return Array(I,H)}else{return Array(J,I,H,G)}}function md5_cmn(F,C,B,A,E,D){return safe_add(bit_rol(safe_add(safe_add(C,F),safe_add(A,D)),E),B)}function md5_ff(C,B,G,F,A,E,D){return md5_cmn((B&G)|((~B)&F),C,B,A,E,D)}function md5_gg(C,B,G,F,A,E,D){return md5_cmn((B&F)|(G&(~F)),C,B,A,E,D)}function md5_hh(C,B,G,F,A,E,D){return md5_cmn(B^G^F,C,B,A,E,D)}function md5_ii(C,B,G,F,A,E,D){return md5_cmn(G^(B|(~F)),C,B,A,E,D)}function core_hmac_md5(C,F){var E=str2binl(C);if(E.length>16){E=core_md5(E,C.length*chrsz)}var A=Array(16),D=Array(16);for(var B=0;B<16;B++){A[B]=E[B]^909522486;D[B]=E[B]^1549556828}var G=core_md5(A.concat(str2binl(F)),512+F.length*chrsz);return core_md5(D.concat(G),512+128)}function safe_add(A,D){var C=(A&65535)+(D&65535);var B=(A>>16)+(D>>16)+(C>>16);return(B<<16)|(C&65535)}function bit_rol(A,B){return(A<<B)|(A>>>(32-B))}function str2binl(D){var C=Array();var A=(1<<chrsz)-1;for(var B=0;B<D.length*chrsz;B+=chrsz){C[B>>5]|=(D.charCodeAt(B/chrsz)&A)<<(B%32)}return C}function binl2str(C){var D="";var A=(1<<chrsz)-1;for(var B=0;B<C.length*32;B+=chrsz){D+=String.fromCharCode((C[B>>5]>>>(B%32))&A)}return D}function binl2hex(C){var B=hexcase?"0123456789ABCDEF":"0123456789abcdef";var D="";for(var A=0;A<C.length*4;A++){D+=B.charAt((C[A>>2]>>((A%4)*8+4))&15)+B.charAt((C[A>>2]>>((A%4)*8))&15)}return D}function binl2b64(D){var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var F="";for(var B=0;B<D.length*4;B+=3){var E=(((D[B>>2]>>8*(B%4))&255)<<16)|(((D[B+1>>2]>>8*((B+1)%4))&255)<<8)|((D[B+2>>2]>>8*((B+2)%4))&255);for(var A=0;A<4;A++){if(B*8+A*6>D.length*32){F+=b64pad}else{F+=C.charAt((E>>6*(3-A))&63)}}}return F}function hexchar2bin(str){var arr=[];for(var i=0;i<str.length;i=i+2){arr.push("\\x"+str.substr(i,2))}arr=arr.join("");eval("var temp = '"+arr+"'");return temp}function uin2hex(str){var maxLength=16;str=parseInt(str);var hex=str.toString(16);var len=hex.length;for(var i=len;i<maxLength;i++){hex="0"+hex}var arr=[];for(var j=0;j<maxLength;j+=2){arr.push("\\x"+hex.substr(j,2))}var result=arr.join("");eval('result="'+result+'"');return result}isAbleSubmit=true;function checkTimeout(){var A=$("u").value.trim();if(pt.chkAccount.isQQ(A)){pt.uin=uin2hex(A);$("verifycode").value="";loadVC(true)}ptui_reportAttr2(216082)}function check(){g_time.time6=new Date();g_changeNum++;var A=$("u").value.trim();$("u").value=A;if(g_uin==A||(!pt.chkUin(A))){return }clearTimeout(checkClock);checkClock=setTimeout("checkTimeout()",5000);g_uin=$("u").value.trim();try{if(parent.ptui_uin){parent.ptui_uin(g_uin)}}catch(B){}ptui_needVC(g_uin,g_appid)}function loadVC(A){if(isLoadVC==A&&(lastUin==g_uin)){return }lastUin=g_uin;isLoadVC=A;if(A==true){var B=$("imgVerify");var F=pt.needAt?pt.needAt:g_uin;var E=(pt.isHttps?"https://ssl.":"http://")+"captcha."+g_domain+"/getimage?aid="+g_appid+"&r="+Math.random()+"&uin="+F;var D=new Date();B.src=E;$("verifyinput").style.display="";$("verifytip").style.display="";$("verifyshow").style.display="";ptui_notifySize("login");try{$("p").focus()}catch(C){}}else{$("verifyinput").style.display="none";$("verifytip").style.display="none";$("verifyshow").style.display="none";ptui_notifySize("login");try{$("p").focus()}catch(C){}}}function onPageClose(){ptui_notifyClose()}function onFormReset(A){if(ptui_onReset(A)){A.u.style.color="#CCCCCC";return true}return false}function onClickForgetPwd(){var B=$("u");var A=$("label_forget_pwd");if(sys.getQueryValue("fgt")==2052){g_forget=g_forget.replace("1028",2052)}A.href=g_forget;if(B!=null&&B.value!=str_uintip){if(A.href.indexOf("?")==-1){A.href+="?"}else{A.href+="&"}A.href+="aquin="+B.value}return true};